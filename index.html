<html><head><base href="https://sharechat.com/"/><title>SharePicsCompose - Dark Theme (Left Menu with Icons)</title><style>
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: Arial, sans-serif;
  background-color: #121212;
  color: #ffffff;
}

.app-container {
  display: flex;
  height: 100%;
}

.canvas-container {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #1e1e1e;
  overflow: auto;
  position: relative;
}

#textCanvas {
  border: 1px solid #444;
  transition: transform 0.3s ease;
}

.controls {
  width: 300px;
  padding: 20px;
  background-color: #1e1e1e;
  box-shadow: 2px 0 5px rgba(0,0,0,0.3);
  overflow-y: auto;
  order: -1;
}

textarea, input, button, select {
  width: 100%;
  margin-bottom: 10px;
  padding: 5px;
  background-color: #333;
  color: #fff;
  border: 1px solid #555;
}

textarea:focus, input:focus, select:focus {
  outline: none;
  border-color: #4CAF50;
}

button {
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 10px;
  cursor: pointer;
}

button:hover {
  background-color: #45a049;
}

.control-group {
  margin-bottom: 15px;
}

.control-group label {
  display: block;
  margin-bottom: 5px;
  color: #aaa;
}

#imageInput {
  display: none;
}

.color-input {
  display: flex;
  align-items: center;
}

.color-input input[type="color"] {
  width: 50px;
  margin-right: 10px;
  background-color: #333;
  border: 1px solid #555;
}

.slider-container {
  display: flex;
  align-items: center;
}

.slider-container input[type="range"] {
  flex-grow: 1;
  margin-right: 10px;
  background-color: #333;
}

.slider-container input[type="number"] {
  width: 50px;
  background-color: #333;
  color: #fff;
}

.zoom-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 10px;
}

.zoom-btn {
  font-size: 18px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.2);
  color: #fff;
  border: none;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}

.zoom-btn:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

h2 {
  color: #4CAF50;
}

::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #1e1e1e;
}

::-webkit-scrollbar-thumb {
  background: #4CAF50;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #45a049;
}

select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');
  background-repeat: no-repeat;
  background-position-x: 100%;
  background-position-y: 5px;
  padding-right: 25px;
}

input[type="range"] {
  -webkit-appearance: none;
  width: 100%;
  height: 5px;
  border-radius: 5px;
  background: #4CAF50;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #fff;
  cursor: pointer;
}

.icon-group {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.icon-btn {
  background-color: #333;
  border: none;
  color: #fff;
  padding: 5px 10px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.icon-btn:hover, .icon-btn.active {
  background-color: #4CAF50;
}

.icon-btn i {
  font-size: 18px;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head><body>
<div class="app-container">
  <div class="controls">
    <h2>SharePicsCompose</h2>
    <div class="control-group">
      <label for="textInput">Enter your text:</label>
      <textarea id="textInput" rows="4" placeholder="Enter your text here"></textarea>
    </div>
    <div class="control-group">
      <label for="fontSize">Font Size:</label>
      <div class="slider-container">
        <input type="range" id="fontSizeSlider" min="10" max="200" value="60">
        <input type="number" id="fontSize" value="60" min="10" max="200">
      </div>
    </div>
    <div class="control-group">
      <label for="fontFamily">Font Type:</label>
      <select id="fontFamily">
        <option value="Arial, sans-serif">Arial</option>
        <option value="'Times New Roman', serif">Times New Roman</option>
        <option value="'Courier New', monospace">Courier New</option>
        <option value="Georgia, serif">Georgia</option>
        <option value="'Palatino Linotype', 'Book Antiqua', Palatino, serif">Palatino</option>
        <option value="'Trebuchet MS', sans-serif">Trebuchet MS</option>
        <option value="Verdana, sans-serif">Verdana</option>
      </select>
    </div>
    <div class="control-group">
      <label>Font Style:</label>
      <div class="icon-group">
        <button id="boldBtn" class="icon-btn"><i class="fas fa-bold"></i></button>
        <button id="italicBtn" class="icon-btn"><i class="fas fa-italic"></i></button>
        <button id="underlineBtn" class="icon-btn"><i class="fas fa-underline"></i></button>
      </div>
    </div>
    <div class="control-group">
      <label>Text Alignment:</label>
      <div class="icon-group">
        <button id="alignLeftBtn" class="icon-btn"><i class="fas fa-align-left"></i></button>
        <button id="alignCenterBtn" class="icon-btn"><i class="fas fa-align-center"></i></button>
        <button id="alignRightBtn" class="icon-btn"><i class="fas fa-align-right"></i></button>
      </div>
    </div>
    <div class="control-group">
      <label for="lineSpacing">Line Spacing:</label>
      <div class="slider-container">
        <input type="range" id="lineSpacing" min="1" max="3" step="0.1" value="1.2">
        <input type="number" id="lineSpacingValue" min="1" max="3" step="0.1" value="1.2">
      </div>
    </div>
    <div class="control-group">
      <label for="letterSpacing">Letter Spacing:</label>
      <div class="slider-container">
        <input type="range" id="letterSpacing" min="-5" max="20" step="1" value="0">
        <input type="number" id="letterSpacingValue" min="-5" max="20" step="1" value="0">
      </div>
    </div>
    <div class="control-group">
      <label for="verticalAlign">Vertical Alignment:</label>
      <div class="icon-group">
        <button id="alignTopBtn" class="icon-btn"><i class="fas fa-arrow-up"></i></button>
        <button id="alignMiddleBtn" class="icon-btn"><i class="fas fa-arrows-alt-v"></i></button>
        <button id="alignBottomBtn" class="icon-btn"><i class="fas fa-arrow-down"></i></button>
      </div>
    </div>
    <div class="control-group">
      <label for="textEffect">Text Effect:</label>
      <select id="textEffect">
        <option value="none">None</option>
        <option value="glow">Glow</option>
        <option value="shadow">Shadow</option>
        <option value="neon">Neon</option>
        <option value="bold">Bold</option>
      </select>
    </div>
    <div class="control-group">
      <label for="textColorMode">Text Color Mode:</label>
      <select id="textColorMode">
        <option value="random">Random</option>
        <option value="custom">Custom</option>
      </select>
    </div>
    <div class="control-group" id="customColorControl" style="display: none;">
      <label for="textColor">Custom Text Color:</label>
      <input type="color" id="textColor" value="#ffffff">
    </div>
    <div class="control-group">
      <label for="backgroundType">Background Type:</label>
      <select id="backgroundType" onchange="toggleBackgroundControls()">
        <option value="transparent">Transparent</option>
        <option value="solid">Solid Color</option>
        <option value="gradient">Gradient Color</option>
        <option value="image">Image</option>
      </select>
    </div>
    <div id="solidColorControl" class="control-group" style="display: none;">
      <label for="solidColor">Solid Color:</label>
      <div class="color-input">
        <input type="color" id="solidColor" value="#1a1a1a">
        <input type="text" id="solidColorText" value="#1a1a1a">
      </div>
    </div>
    <div id="gradientColorControl" class="control-group" style="display: none;">
      <label for="gradientColor1">Gradient Color 1:</label>
      <div class="color-input">
        <input type="color" id="gradientColor1" value="#1a1a1a">
        <input type="text" id="gradientColor1Text" value="#1a1a1a">
      </div>
      <label for="gradientColor2">Gradient Color 2:</label>
      <div class="color-input">
        <input type="color" id="gradientColor2" value="#4a4a4a">
        <input type="text" id="gradientColor2Text" value="#4a4a4a">
      </div>
    </div>
    <div id="imageControl" class="control-group" style="display: none;">
      <label for="imageInput">Select Image:</label>
      <input type="file" id="imageInput" accept="image/*">
      <button onclick="document.getElementById('imageInput').click()">Choose Image</button>
      <label for="imagePosition">Image Position:</label>
      <select id="imagePosition">
        <option value="fill">Fill</option>
        <option value="fit">Fit</option>
        <option value="topHalf">Top Half</option>
        <option value="bottomHalf">Bottom Half</option>
      </select>
    </div>
    <div class="control-group">
      <button onclick="updateCanvas()">Update Canvas</button>
    </div>
    <div class="control-group">
      <button onclick="downloadImage()">Download Image</button>
    </div>
  </div>
  <div class="canvas-container" id="canvasContainer">
    <canvas id="textCanvas" width="1080" height="1920"></canvas>
    <div class="zoom-controls">
      <button class="zoom-btn" onclick="zoomIn()">+</button>
      <button class="zoom-btn" onclick="zoomOut()">-</button>
      <button class="zoom-btn" onclick="resetZoom()">↺</button>
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById('textCanvas');
const ctx = canvas.getContext('2d');
const canvasContainer = document.getElementById('canvasContainer');
const textInput = document.getElementById('textInput');
const fontSizeInput = document.getElementById('fontSize');
const fontSizeSlider = document.getElementById('fontSizeSlider');
const fontFamilySelect = document.getElementById('fontFamily');
const lineSpacingInput = document.getElementById('lineSpacing');
const lineSpacingValueInput = document.getElementById('lineSpacingValue');
const letterSpacingInput = document.getElementById('letterSpacing');
const letterSpacingValueInput = document.getElementById('letterSpacingValue');
const textEffectSelect = document.getElementById('textEffect');
const textColorModeSelect = document.getElementById('textColorMode');
const textColorInput = document.getElementById('textColor');
const backgroundTypeSelect = document.getElementById('backgroundType');
const solidColorInput = document.getElementById('solidColor');
const solidColorTextInput = document.getElementById('solidColorText');
const gradientColor1Input = document.getElementById('gradientColor1');
const gradientColor1TextInput = document.getElementById('gradientColor1Text');
const gradientColor2Input = document.getElementById('gradientColor2');
const gradientColor2TextInput = document.getElementById('gradientColor2Text');
const imageInput = document.getElementById('imageInput');
const imagePositionSelect = document.getElementById('imagePosition');

const boldBtn = document.getElementById('boldBtn');
const italicBtn = document.getElementById('italicBtn');
const underlineBtn = document.getElementById('underlineBtn');
const alignLeftBtn = document.getElementById('alignLeftBtn');
const alignCenterBtn = document.getElementById('alignCenterBtn');
const alignRightBtn = document.getElementById('alignRightBtn');
const alignTopBtn = document.getElementById('alignTopBtn');
const alignMiddleBtn = document.getElementById('alignMiddleBtn');
const alignBottomBtn = document.getElementById('alignBottomBtn');

let backgroundImage = null;
let zoomLevel = 1;
let textAlign = 'left';
let verticalAlign = 'top';
let isBold = false;
let isItalic = false;
let isUnderline = false;

function getRandomColor() {
  const letters = '0123456789ABCDEF';
  let color = '#';
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}

function drawBackground() {
  const backgroundType = backgroundTypeSelect.value;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  switch(backgroundType) {
    case 'transparent':
      // Do nothing, canvas is already clear
      break;
    case 'solid':
      ctx.fillStyle = solidColorInput.value;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      break;
    case 'gradient':
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, gradientColor1Input.value);
      gradient.addColorStop(1, gradientColor2Input.value);
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      break;
    case 'image':
      if (backgroundImage) {
        const position = imagePositionSelect.value;
        switch(position) {
          case 'fill':
            ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height);
            break;
          case 'fit':
            const scale = Math.min(canvas.width / backgroundImage.width, canvas.height / backgroundImage.height);
            const x = (canvas.width - backgroundImage.width * scale) / 2;
            const y = (canvas.height - backgroundImage.height * scale) / 2;
            ctx.drawImage(backgroundImage, x, y, backgroundImage.width * scale, backgroundImage.height * scale);
            break;
          case 'topHalf':
            ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height / 2, 0, 0, canvas.width, canvas.height / 2);
            break;
          case 'bottomHalf':
            ctx.drawImage(backgroundImage, 0, 0, canvas.width, canvas.height / 2, 0, canvas.height / 2, canvas.width, canvas.height / 2);
            break;
        }
      }
      break;
  }
}

function wrapText(text, x, maxWidth, lineHeight) {
  const words = text.split(' ');
  let line = '';
  let lines = [];

  for(let n = 0; n < words.length; n++) {
    const testLine = line + words[n] + ' ';
    const metrics = ctx.measureText(testLine);
    const testWidth = metrics.width;
    if (testWidth > maxWidth && n > 0) {
      lines.push(line);
      line = words[n] + ' ';
    }
    else {
      line = testLine;
    }
  }
  lines.push(line);
  return lines;
}

function applyTextEffect(text, x, y, color) {
  const effect = textEffectSelect.value;

  switch(effect) {
    case 'glow':
      ctx.shadowBlur = 10;
      ctx.shadowColor = color;
      ctx.fillStyle = color;
      ctx.fillText(text, x, y);
      ctx.shadowBlur = 0;
      break;
    case 'shadow':
      ctx.shadowOffsetX = 3;
      ctx.shadowOffsetY = 3;
      ctx.shadowBlur = 4;
      ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
      ctx.fillStyle = color;
      ctx.fillText(text, x, y);
      ctx.shadowOffsetX = 0;
      ctx.shadowOffsetY = 0;
      ctx.shadowBlur = 0;
      break;
    case 'neon':
      ctx.shadowBlur = 10;
      ctx.shadowColor = color;
      ctx.strokeStyle = color;
      ctx.lineWidth = 3;
      ctx.strokeText(text, x, y);
      ctx.lineWidth = 1;
      ctx.fillStyle = '#fff';
      ctx.fillText(text, x, y);
      ctx.shadowBlur = 0;
      break;
    case 'bold':
      ctx.font = ctx.font.replace(/\d+px/, (parseInt(ctx.font.match(/\d+px/)[0]) + 2) + 'px');
      ctx.fillStyle = color;
      ctx.fillText(text, x, y);
      ctx.font = ctx.font.replace(/\d+px/, (parseInt(ctx.font.match(/\d+px/)[0]) - 2) + 'px');
      break;
    default:
      ctx.fillStyle = color;
      ctx.fillText(text, x, y);
  }

  if (isUnderline) {
    const metrics = ctx.measureText(text);
    const lineY = y + 3;
    ctx.beginPath();
    ctx.moveTo(x, lineY);
    ctx.lineTo(x + metrics.width, lineY);
    ctx.strokeStyle = color;
    ctx.lineWidth = 1;
    ctx.stroke();
  }
}

function updateCanvas() {
  drawBackground();

  const text = textInput.value;
  const fontSize = parseInt(fontSizeInput.value);
  const fontFamily = fontFamilySelect.value;
  const lineSpacing = parseFloat(lineSpacingInput.value);
  const letterSpacing = parseInt(letterSpacingInput.value);
  const textColorMode = textColorModeSelect.value;
  
  let fontStyle = '';
  if (isBold) fontStyle += 'bold ';
  if (isItalic) fontStyle += 'italic ';
  
  ctx.font = `${fontStyle}${fontSize}px ${fontFamily}`;
  ctx.textAlign = textAlign;
  ctx.textBaseline = 'top';
  
  const maxWidth = canvas.width * 0.9;
  const lineHeight = fontSize * lineSpacing;
  
  let x = textAlign === 'left' ? canvas.width * 0.05 : 
          textAlign === 'center' ? canvas.width / 2 : 
          canvas.width * 0.95;
  let lines = [];
  
  text.split('\n').forEach(paragraph => {
    lines = lines.concat(wrapText(paragraph, x, maxWidth, lineHeight));
    lines.push(''); // Add empty line between paragraphs
  });
  
  let y;
  switch(verticalAlign) {
    case 'top':
      y = canvas.height * 0.05;
      break;
    case 'middle':
      y = (canvas.height - lines.length * lineHeight) / 2;
      break;
    case 'bottom':
      y = canvas.height - lines.length * lineHeight - canvas.height * 0.05;
      break;
  }
  
  lines.forEach(line => {
    const words = line.split(' ');
    let currentX = x;
    words.forEach(word => {
      const color = textColorMode === 'random' ? getRandomColor() : textColorInput.value;
      applyTextEffect(word, currentX, y, color);
      const wordWidth = ctx.measureText(word + ' ').width;
      currentX += wordWidth + letterSpacing;
    });
    y += lineHeight;
  });
}

function downloadImage() {
  const link = document.createElement('a');
  link.download = 'sharepicscompose-image.png';
  link.href = canvas.toDataURL();
  link.click();
}

function toggleBackgroundControls() {
  const backgroundType = backgroundTypeSelect.value;
  document.getElementById('solidColorControl').style.display = backgroundType === 'solid' ? 'block' : 'none';
  document.getElementById('gradientColorControl').style.display = backgroundType === 'gradient' ? 'block' : 'none';
  document.getElementById('imageControl').style.display = backgroundType === 'image' ? 'block' : 'none';
}

function zoomIn() {
  zoomLevel *= 1.2;
  updateZoom();
}

function zoomOut() {
  zoomLevel /= 1.2;
  updateZoom();
}

function resetZoom() {
  zoomLevel = 1;
  updateZoom();
}

function updateZoom() {
  canvas.style.transform = `scale(${zoomLevel})`;
}

solidColorInput.addEventListener('input', function() {
  solidColorTextInput.value = this.value;
});

solidColorTextInput.addEventListener('input', function() {
  solidColorInput.value = this.value;
});

gradientColor1Input.addEventListener('input', function() {
  gradientColor1TextInput.value = this.value;
});

gradientColor1TextInput.addEventListener('input', function() {
  gradientColor1Input.value = this.value;
});

gradientColor2Input.addEventListener('input', function() {
  gradientColor2TextInput.value = this.value;
});

gradientColor2TextInput.addEventListener('input', function() {
  gradientColor2Input.value = this.value;
});

imageInput.addEventListener('change', function(e) {
  const file = e.target.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(event) {
      backgroundImage = new Image();
      backgroundImage.onload = updateCanvas;
      backgroundImage.src = event.target.result;
    }
    reader.readAsDataURL(file);
  }
});

lineSpacingInput.addEventListener('input', function() {
  lineSpacingValueInput.value = this.value;
  updateCanvas();
});

lineSpacingValueInput.addEventListener('input', function() {
  lineSpacingInput.value = this.value;
  updateCanvas();
});

letterSpacingInput.addEventListener('input', function() {
  letterSpacingValueInput.value = this.value;
  updateCanvas();
});

letterSpacingValueInput.addEventListener('input', function() {
  letterSpacingInput.value = this.value;
  updateCanvas();
});

textColorModeSelect.addEventListener('change', function() {
  document.getElementById('customColorControl').style.display = this.value === 'custom' ? 'block' : 'none';
  updateCanvas();
});

fontSizeSlider.addEventListener('input', function() {
  fontSizeInput.value = this.value;
  updateCanvas();
});

fontSizeInput.addEventListener('input', function() {
  fontSizeSlider.value = this.value;
  updateCanvas();
});

boldBtn.addEventListener('click', function() {
  isBold = !isBold;
  this.classList.toggle('active');
  updateCanvas();
});

italicBtn.addEventListener('click', function() {
  isItalic = !isItalic;
  this.classList.toggle('active');
  updateCanvas();
});

underlineBtn.addEventListener('click', function() {
  isUnderline = !isUnderline;
  this.classList.toggle('active');
  updateCanvas();
});

alignLeftBtn.addEventListener('click', function() {
  textAlign = 'left';
  this.classList.add('active');
  alignCenterBtn.classList.remove('active');
  alignRightBtn.classList.remove('active');
  updateCanvas();
});

alignCenterBtn.addEventListener('click', function() {
  textAlign = 'center';
  this.classList.add('active');
  alignLeftBtn.classList.remove('active');
  alignRightBtn.classList.remove('active');
  updateCanvas();
});

alignRightBtn.addEventListener('click', function() {
  textAlign = 'right';
  this.classList.add('active');
  alignLeftBtn.classList.remove('active');
  alignCenterBtn.classList.remove('active');
  updateCanvas();
});

alignTopBtn.addEventListener('click', function() {
  verticalAlign = 'top';
  this.classList.add('active');
  alignMiddleBtn.classList.remove('active');
  alignBottomBtn.classList.remove('active');
  updateCanvas();
});

alignMiddleBtn.addEventListener('click', function() {
  verticalAlign = 'middle';
  this.classList.add('active');
  alignTopBtn.classList.remove('active');
  alignBottomBtn.classList.remove('active');
  updateCanvas();
});

alignBottomBtn.addEventListener('click', function() {
  verticalAlign = 'bottom';
  this.classList.add('active');
  alignTopBtn.classList.remove('active');
  alignMiddleBtn.classList.remove('active');
  updateCanvas();
});

// Add event listeners for real-time updates
textInput.addEventListener('input', updateCanvas);
fontFamilySelect.addEventListener('change', updateCanvas);
textEffectSelect.addEventListener('change', updateCanvas);
textColorInput.addEventListener('input', updateCanvas);
backgroundTypeSelect.addEventListener('change', updateCanvas);
solidColorInput.addEventListener('input', updateCanvas);
gradientColor1Input.addEventListener('input', updateCanvas);
gradientColor2Input.addEventListener('input', updateCanvas);
imagePositionSelect.addEventListener('change', updateCanvas);

// Add zoom functionality using mouse wheel
canvasContainer.addEventListener('wheel', function(e) {
  e.preventDefault();
  if (e.deltaY < 0) {
    zoomIn();
  } else {
    zoomOut();
  }
});

// Add pan functionality
let isPanning = false;
let startX, startY;

canvasContainer.addEventListener('mousedown', function(e) {
  isPanning = true;
  startX = e.clientX - canvasContainer.offsetLeft;
  startY = e.clientY - canvasContainer.offsetTop;
});

canvasContainer.addEventListener('mousemove', function(e) {
  if (!isPanning) return;
  const x = e.clientX - canvasContainer.offsetLeft;
  const y = e.clientY - canvasContainer.offsetTop;
  canvasContainer.scrollLeft += startX - x;
  canvasContainer.scrollTop += startY - y;
  startX = x;
  startY = y;
});

canvasContainer.addEventListener('mouseup', function() {
  isPanning = false;
});

canvasContainer.addEventListener('mouseleave', function() {
  isPanning = false;
});

updateCanvas();
</script></body></html>